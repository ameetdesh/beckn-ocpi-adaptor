import { z } from "zod";

export default z.object({ "sessionStatus": z.enum(["PENDING","ACTIVE","COMPLETED","INTERRUPTED"]).describe("High-level session state (order.state carries overall state).").optional(), "authorizationMode": z.enum(["APP_QR","RFID","OTP"]).describe("Mode used to authorize/start the session.").optional(), "authorizationOtpHint": z.string().describe("Optional OTP or hint presented to user for kiosk entry.").optional(), "connectorType": z.enum(["CCS2","Type2","CHAdeMO","GB_T"]).describe("Connector used for this session (may differ from listing).").optional(), "maxPowerKW": z.number().gte(1).describe("Peak power observed/allowed for this session (kW).").optional(), "meteredEnergyKWh": z.number().gte(0).describe("Total metered energy delivered (kWh).").optional(), "meteredDurationMinutes": z.number().gte(0).describe("Total metered session time in minutes.").optional(), "chargingTelemetry": z.array(z.object({ "eventTime": z.string().datetime({ offset: true }).describe("Telemetry event timestamp (UTC).").optional(), "metrics": z.array(z.object({ "name": z.enum(["ENERGY","POWER","CURRENT","VOLTAGE","STATE_OF_CHARGE"]).describe("Name of the telemetry metric."), "value": z.number().describe("Numeric value of the metric."), "unitCode": z.string().describe("Unit code for the metric value. Valid codes - ENERGY uses KW, POWER uses KWH, CURRENT uses AMP, VOLTAGE uses VLT, STATE_OF_CHARGE uses PERCENTAGE.") }).strict()).describe("Array of telemetry metrics using schema.org QuantitativeValue.").optional() }).strict()).describe("OCPI-like intervals with telemetry metrics.").optional(), "totalCost": z.object({ "exclVat": z.number().optional(), "inclVat": z.number().optional() }).strict().describe("Total session cost breakout.").optional(), "lastUpdated": z.string().datetime({ offset: true }).describe("Last telemetry/billing update timestamp (UTC).").optional(), "reservationId": z.string().describe("Server-assigned reservation identifier.").optional(), "gracePeriodMinutes": z.number().gte(0).describe("Minutes allowed after scheduled start before releasing.").optional(), "vehicleMake": z.string().describe("Vehicle make/brand for the session (optional).").optional(), "vehicleModel": z.string().describe("Vehicle model for the session (optional).").optional() }).strict();
